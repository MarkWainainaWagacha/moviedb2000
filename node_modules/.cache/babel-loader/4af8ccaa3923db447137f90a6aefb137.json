{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\ReactMovieDB-master\\\\src\\\\components\\\\Movie\\\\Movie.js\";\nimport React, { Component } from 'react';\nimport { API_URL, API_KEY } from '../../config';\nimport Navigation from '../elements/Navigation/Navigation';\nimport MovieInfo from '../elements/MovieInfo/MovieInfo';\nimport MovieInfoBar from '../elements/MovieInfoBar/MovieInfoBar';\nimport FourColGrid from '../elements/FourColGrid/FourColGrid';\nimport Actor from '../elements/Actor/Actor';\nimport Spinner from '../elements/Spinner/Spinner';\nimport './Movie.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Movie extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movie: null,\n      actors: null,\n      directors: [],\n      loading: false\n    };\n    this.fetchItems = endpoint => {\n      fetch(endpoint).then(result => result.json()).then(result => {\n        //  console.log\n        if (result.status_code) {\n          this.setState({\n            loading: false\n          });\n        } else {\n          this.setState({\n            movie: result\n          }, () => {\n            // ... then fetch actors in the setState callback function\n            const endpoint = `${API_URL}movie/${this.props.match.params.movieId}/credits?api_key=${API_KEY}`;\n            fetch(endpoint).then(result => result.json()).then(result => {\n              const directors = result.crew.filter(member => member.job === \"Director\");\n              this.setState({\n                actors: result.cast,\n                directors,\n                loading: false\n              }, () => {\n                localStorage.setItem(`${this.props.match.params.movieId}`, JSON.stringify(this.state));\n              });\n            });\n          });\n        }\n      }).catch(error => console.error('Error:', error));\n    };\n  }\n  componentDidMount() {\n    if (localStorage.getItem(`${this.props.match.params.movieId}`)) {\n      const state = JSON.parse(localStorage.getItem(`${this.props.match.params.movieId}`));\n      this.setState({\n        ...state\n      });\n    } else {\n      this.setState({\n        loading: true\n      });\n      // First fetch the movie...\n      const endpoint = `${API_URL}movie/${this.props.match.params.movieId}?api_key=${API_KEY}&language=en-US`;\n      this.fetchItems(endpoint);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rmdb-movie\",\n      children: [this.state.movie ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Navigation, {\n          movie: this.props.location.movieName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(MovieInfo, {\n          movie: this.state.movie,\n          directors: this.state.directors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(MovieInfoBar, {\n          time: this.state.movie.runtime,\n          budget: this.state.movie.budget,\n          revenue: this.state.movie.revenue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this) : null, this.state.actors ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rmdb-movie-grid\",\n        children: /*#__PURE__*/_jsxDEV(FourColGrid, {\n          header: 'Actors',\n          children: this.state.actors.map((element, i) => {\n            return /*#__PURE__*/_jsxDEV(Actor, {\n              actor: element\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 40\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this) : null, !this.state.actors && !this.state.loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No Movie Found!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 66\n      }, this) : null, this.state.loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 43\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Movie;","map":{"version":3,"names":["React","Component","API_URL","API_KEY","Navigation","MovieInfo","MovieInfoBar","FourColGrid","Actor","Spinner","jsxDEV","_jsxDEV","Movie","constructor","args","state","movie","actors","directors","loading","fetchItems","endpoint","fetch","then","result","json","status_code","setState","props","match","params","movieId","crew","filter","member","job","cast","localStorage","setItem","JSON","stringify","catch","error","console","componentDidMount","getItem","parse","render","className","children","location","movieName","fileName","_jsxFileName","lineNumber","columnNumber","time","runtime","budget","revenue","header","map","element","i","actor"],"sources":["C:/Users/Admin/Desktop/ReactMovieDB-master/src/components/Movie/Movie.js"],"sourcesContent":["import React, {Component} from 'react';\nimport { API_URL, API_KEY } from '../../config';\nimport Navigation from '../elements/Navigation/Navigation';\nimport MovieInfo from '../elements/MovieInfo/MovieInfo';\nimport MovieInfoBar from '../elements/MovieInfoBar/MovieInfoBar';\nimport FourColGrid from '../elements/FourColGrid/FourColGrid';\nimport Actor from '../elements/Actor/Actor';\nimport Spinner from '../elements/Spinner/Spinner';\nimport './Movie.css';\n\n\nclass Movie extends Component {\n    state = {\n        movie: null,\n        actors: null,\n        directors: [],\n        loading: false\n    }\n\n    componentDidMount(){\n        if (localStorage.getItem(`${this.props.match.params.movieId}`)){\n            const state = JSON.parse(localStorage.getItem(`${this.props.match.params.movieId}`));\n            this.setState({ ...state});\n        } else {\n        this.setState({ loading: true })\n        // First fetch the movie...\n        const endpoint = `${API_URL}movie/${this.props.match.params.movieId}?api_key=${API_KEY}&language=en-US`;\n        this.fetchItems(endpoint);\n        }\n    }\n\n    fetchItems = (endpoint) => {\n        fetch(endpoint)\n        .then(result => result.json())\n        .then(result => {\n         //  console.log\n            if (result.status_code){\n                this.setState({ loading: false });\n            } else {\n                this.setState({ movie: result }, () => {\n                // ... then fetch actors in the setState callback function\n                const endpoint = `${API_URL}movie/${this.props.match.params.movieId}/credits?api_key=${API_KEY}`;\n               fetch(endpoint)\n               .then(result => result.json())\n               .then(result => {\n                   const directors = result.crew.filter( (member) => member.job === \"Director\");\n              \n              this.setState({\n                 actors: result.cast,\n                 directors,\n                 loading: false\n              }, () => {\n                  localStorage.setItem(`${this.props.match.params.movieId}`, JSON.stringify(this.state));\n              })\n             })\n            })\n          }\n        })\n        .catch(error => console.error('Error:', error))\n    }\n    render() {\n        return (\n            <div className=\"rmdb-movie\">\n                {this.state.movie ?\n                    <div>\n                        <Navigation movie={this.props.location.movieName}/>\n                        <MovieInfo movie={this.state.movie} directors={this.state.directors} />\n                        <MovieInfoBar time={this.state.movie.runtime} budget={this.state.movie.budget} revenue={this.state.movie.revenue} /> \n                    </div>\n                : null}\n                {this.state.actors ? \n                    <div className=\"rmdb-movie-grid\">\n                        <FourColGrid header={'Actors'}>\n                            {this.state.actors.map( (element, i) => {\n                                return <Actor key={i} actor={element} />\n                             })}\n                        </FourColGrid>\n                    </div>\n                    : null }\n                    {!this.state.actors && !this.state.loading ? <h1>No Movie Found!</h1> : null}\n                    {this.state.loading ? <Spinner /> : null}\n                </div>\n                )\n                           \n         }\n    }\n\n\nexport default Movie;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}